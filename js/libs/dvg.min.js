/*! svg-distort 0.0.1 */
!function(a,b){"function"==typeof define&&define.amd?define([],b):a.DVG=b()}(this,function(){"use strict";function a(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}function b(a,b){for(var c,d,e,f,g,h=[],i=[],j=[a];j.length<a.length;){for(d=j[j.length-1],g=[],c=1;c<d.length;c++)e=d[c-1],f=d[c],g.push([e[0]+(f[0]-e[0])*b,e[1]+(f[1]-e[1])*b]);j.push(g)}for(c=0;c<j.length;c++)h.push(j[c][0]),i.push(j[j.length-1-c][c]);return[h,i]}function c(a){var b,d,e,f=a.querySelectorAll("path"),g=a.querySelectorAll("line, circle, ellipse, polygon, polyline, rect");for(b=0;b<f.length;b++)d=f[b],c.path(d);for(b=0;b<g.length;b++)e=g[b],d=c.convert(e),e.parentNode.replaceChild(d,e)}function d(a,b,c){this._id=d._ids++,this._x=0,this._y=0,this._type=d.NORMAL,this.x(a),this.y(b),this.type(c),this._restX=this.x(),this._restY=this.y()}function e(a,b,c){d.call(this,a,b,c),this._origX=this.x(),this._origY=this.y()}function f(a){var b=a&&a.length?a:arguments;a=[];var c,e,f,g;switch(b.length){case 3:c=b[0],f=b[1],e=b[2];break;case 4:c=b[0],f=b[1],g=b[2],e=b[3];break;default:throw new Error("Need either three or four points to form a piece")}if(c.type()!==d.NORMAL)throw new Error("First point must be of NORMAL type");if(e.type()!==d.NORMAL)throw new Error("Last point must be of NORMAL type");if(f.type()!==d.CONTROL)throw new Error("Second point must be of CONTROL type");if(g&&g.type()!==d.CONTROL)throw new Error("Third point must be of CONTROL type");a.push(c,f),g&&a.push(g),a.push(e),this._points=a}function g(a){for(var b=a&&a.length?a:arguments,c=new f(b),d=0;d<b.length;d++)if(!(b[d]instanceof e))throw new Error("All points must be instances of FixedPoint");this._pieces=[c]}function h(a,b,c){if(this._segments=[],a&&a.length)for(var d=0;d<a.length;d++)this.addSegment(a[d])}function i(a,b,d,e){if(!(this instanceof i))return new i(a,b,d,e);c(a);var f=a.querySelectorAll("path");this._paths=[],this._mode=void 0===b?i.STATIC_INTERPOLATION:b,this._interThreshold=isNaN(d)?i.DEFAULT_INTERPOLATION_THRESHOLD:d,this._extraThreshold=isNaN(e)?i.DEFAULT_EXTRAPOLATION_THRESHOLD:e;for(var g=0;g<f.length;g++){var j=f[g],k=h.fromElement(j);k.interpolate(this._interThreshold),j.setAttribute("d",k.toString()),this._paths.push({path:k,element:j})}}function j(){return i.Point=d,i.FixedPoint=e,i.Piece=f,i.Segment=g,i.Path=h,i}a.attribute=function(a,b){return a[b]instanceof SVGAnimatedLength?a[b].baseVal.value:a.getAttribute(b)},b.compute=function(a,b){for(var c,d,e=[a];e.length<b;)c=e[e.length-1],d=this(c,1/(b-e.length+1)),e[e.length-1]=d[0],e.push(d[1]);return e},c.path=function(a,b){b=null===b||void 0===b?!0:b;var c,d,e,f,g,h,i,j,k,l,m=0,n=0,o=a.pathSegList;for(c=0;c<o.numberOfItems;c++){if(d=o.getItem(c),e=d.pathSegTypeAsLetter,/[MLHVCSQTA]/.test(e))"x"in d&&(m=d.x),"y"in d&&(n=d.y),("H"==e||"V"==e)&&o.replaceItem(a.createSVGPathSegLinetoAbs(m,n),c);else{switch("x1"in d&&(h=m+d.x1),"x2"in d&&(j=m+d.x2),"y1"in d&&(i=n+d.y1),"y2"in d&&(k=n+d.y2),"x"in d&&(m+=d.x),"y"in d&&(n+=d.y),e){case"m":d=a.createSVGPathSegMovetoAbs(m,n);break;case"c":d=a.createSVGPathSegCurvetoCubicAbs(m,n,h,i,j,k);break;case"s":d=a.createSVGPathSegCurvetoCubicSmoothAbs(m,n,j,k);break;case"q":d=a.createSVGPathSegCurvetoQuadraticAbs(m,n,h,i);break;case"t":d=a.createSVGPathSegCurvetoQuadraticSmoothAbs(m,n);break;case"a":d=a.createSVGPathSegArcAbs(m,n,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag);break;case"l":case"h":case"v":d=a.createSVGPathSegLinetoAbs(m,n);break;case"z":case"Z":m=f,n=g}o.replaceItem(d,c),e=e.toUpperCase()}"M"==e&&(f=m,g=n)}for(c=0;c<o.numberOfItems;c++)if(d=o.getItem(c),"A"===d.pathSegTypeAsLetter){l=o.getItem(c-1);var p=this.arc(l.x,l.y,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag,d.x,d.y);if(p.length)for(var q=0;q<p.length;q++){var r=p[q],s=this.createLineSegment(a,r);q?c<o.numberOfItems-1?o.insertItemBefore(s,++c):o.appendItem(s):o.replaceItem(s,c)}}if(b)for(c=0;c<o.numberOfItems;c++)d=o.getItem(c),"L"===d.pathSegTypeAsLetter&&(l=o.getItem(c-1),o.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(d.x,d.y,(l.x+d.x)/2,(l.y+d.y)/2),c))},c.createLineSegment=function(a,b){switch(b.length){case 1:return a.createSVGPathSegLinetoAbs(point[0][0],b[0][1]);case 2:return a.createSVGPathSegCurvetoQuadraticAbs(b[0][0],b[0][1],b[1][0],b[1][1]);case 3:return a.createSVGPathSegCurvetoCubicAbs(b[0][0],b[0][1],b[1][0],b[1][1],b[2][0],b[2][1])}return null},c.arc=function(a,b,c,d,e,f,g,h,i){if(a===h&&b===i)return[];if(!c&&!d)return[[[h,i]]];var j=Math.sin(e*Math.PI/180),k=Math.cos(e*Math.PI/180),l=k*(a-h)/2+j*(b-i)/2,m=-j*(a-h)/2+k*(b-i)/2,n=c*c,o=d*d,p=l*l,q=m*m,r=0,s=n*o-n*q-o*p;if(0>s){var t=Math.sqrt(1-s/(n*o));c*=t,d*=t}else r=(f&&g||!f&&!g?-1:1)*Math.sqrt(s/(n*q+o*p));var u=r*c*m/d,v=-r*d*l/c,w=k*u-j*v+(a+h)/2,x=j*u+k*v+(b+i)/2,y=this.arc.angle(1,0,(l-u)/c,(m-v)/d),z=this.arc.angle((l-u)/c,(m-v)/d,(-l-u)/c,(-m-v)/d);!g&&z>0?z-=2*Math.PI:g&&0>z&&(z+=2*Math.PI);for(var A=[],B=Math.ceil(Math.abs(z/(Math.PI/2))),C=z/B,D=8/3*Math.sin(C/4)*Math.sin(C/4)/Math.sin(C/2),E=0;B>E;E++){var F=Math.cos(y),G=Math.sin(y),H=y+C,I=Math.cos(H),J=Math.sin(H),K=k*c*I-j*d*J+w,L=j*c*I+k*d*J+x,M=D*(-k*c*G-j*d*F),N=D*(-j*c*G+k*d*F),O=D*(k*c*J+j*d*I),P=D*(j*c*J-k*d*I);A.push([[K,L],[a+M,b+N],[K+O,L+P]]),y=H,a=K,b=L}return A},c.arc.angle=function(a,b,c,d){var e=Math.atan2(b,a),f=Math.atan2(d,c);return f>=e?f-e:2*Math.PI-(e-f)},c.convert=function(a){var b=this.convert[a.tagName](a);c.path(b);for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d],f=e.nodeName,g=e.nodeValue;/^(x|y|x1|y1|x2|y2|width|height|r|rx|ry|cx|cy|points|d)$/.test(f)||b.setAttribute(f,g)}return b},c.convert.line=function(b){var c=a.attribute(b,"x1"),d=a.attribute(b,"y1"),e=a.attribute(b,"x2"),f=a.attribute(b,"y2");return a("path",{fill:"transparent",d:["M",c,d,"L",e,f].join(" ")})},c.convert.circle=function(b){var c=a.attribute(b,"cx"),d=a.attribute(b,"cy"),e=a.attribute(b,"r");return a("path",{d:["M",c,d-e,"A",e,e,0,0,1,c+e,d,"A",e,e,0,0,1,c,d+e,"A",e,e,0,0,1,c-e,d,"A",e,e,0,0,1,c,d-e,"Z"].join(" ")})},c.convert.ellipse=function(b){var c=a.attribute(b,"cx"),d=a.attribute(b,"cy"),e=a.attribute(b,"rx"),f=a.attribute(b,"ry");return a("path",{d:["M",c,d-f,"A",e,f,0,0,1,c+e,d,"A",e,f,0,0,1,c,d+f,"A",e,f,0,0,1,c-e,d,"A",e,f,0,0,1,c,d-f,"Z"].join(" ")})},c.convert.polygon=function(b){for(var c=b.points,d=["M",c[0].x,c[0].y],e=1;e<c.length;e++)d.push("L",c[e].x,c[e].y);return d.push("Z"),a("path",{d:d.join(" ")})},c.convert.polyline=function(b){for(var c=b.points,d=["M",c[0].x,c[0].y],e=1;e<c.length;e++)d.push("L",c[e].x,c[e].y);return a("path",{fill:"transparent",d:d.join(" ")})},c.convert.rect=function(b){var c=a.attribute(b,"x"),d=a.attribute(b,"y"),e=a.attribute(b,"rx"),f=a.attribute(b,"ry"),g=a.attribute(b,"width"),h=a.attribute(b,"height"),i=[];return e>0||f>0?(e||(e=f),f||(f=e),i.push("M",c+e,d,"H",c+g-e,"A",e,f,0,0,1,c+g,d+f,"V",d+h-f,"A",e,f,0,0,1,c+g-e,d+h,"H",c+e,"A",e,f,0,0,1,c,d+h-f,"V",d+f,"A",e,f,0,0,1,c+e,d)):i.push("M",c,d,"H",c+g,"V",d+h,"H",c,"V",d),i.push("Z"),a("path",{d:i.join(" ")})},d._ids=0,d.NORMAL=d[1]=1,d.CONTROL=d[2]=2;var k=d.prototype;k.x=function(a){return"number"==typeof a&&(this._x=a,this[0]=a),this._x},k.y=function(a){return"number"==typeof a&&(this._y=a,this[1]=a),this._y},k.restX=function(a){return"number"==typeof a&&(this._restX=a),this._restX},k.restY=function(a){return"number"==typeof a&&(this._restY=a),this._restY},k.type=function(a){return d[a]&&(this._type=a),this._type},k.toString=function(){return this._x+" "+this._y},k.hashCode=function(){return this._id};var k=e.prototype=new d;k.constructor=e,k.origX=function(a){return"number"==typeof a&&(this._origX=a),this._origX},k.origY=function(a){return"number"==typeof a&&(this._origY=a),this._origY},f.QUADRATIC=f[3]=3,f.CUBIC=f[4]=4,f.extrapolate=function(a,b){if(a.endPoint()!==b.startPoint())throw new Error("Second piece must be joined to the first piece.");if(a.type()!==b.type())throw new Error("Pieces must be of the same type.");var c,g,h,i=a.startPoint(),j=b.endPoint(),k=i instanceof e&&j instanceof e;switch(a.type()){case f.QUADRATIC:return c=a.point(1),g=b.point(1),h=c instanceof e?c:g instanceof e?g:new d(0,0,d.CONTROL),k?(h.restX(h.origX()),h.restY(h.origY())):(h.restX((c.restX()+g.restX())/2),h.restY((c.restY()+g.restY())/2)),h.x((c.x()+g.x())/2),h.y((c.y()+g.y())/2),new f([i,h,j]);case f.CUBIC:var l=a.point(1),m=a.point(2),n=b.point(1),o=b.point(2);return c=l instanceof e?l:new d(0,0,d.CONTROL),g=o instanceof e?o:new d(0,0,d.CONTROL),k?(c.restX(c.origX()),c.restY(c.origY()),g.restX(g.origX()),g.restY(g.origY())):(c.restX((l.restX()+m.restX())/2),c.restY((l.restY()+m.restY())/2),g.restX((n.restX()+o.restX())/2),g.restY((n.restY()+o.restY())/2)),c.x((l.x()+m.x())/2),c.y((l.y()+m.y())/2),g.x((n.x()+o.x())/2),g.y((n.y()+o.y())/2),new f([i,c,g,j])}return!1};var k=f.prototype;k.point=function(a){return a=(0|a)%this._points.length,a+=0>a?this._points.length:0,this._points[a]},k.startPoint=function(){return this.point(0)},k.endPoint=function(){return this.point(-1)},k.type=function(){return f[this._points.length]},k.delta=function(){var a=this.startPoint(),b=this.endPoint(),c=b.x()-a.x(),d=b.y()-a.y();return Math.sqrt(c*c+d*d)},k.interpolate=function(){var a,c,g,h=this._points,i=h.length,j=[],k=[];for(a=0;i>a;a++)g=h[a],j.push(g),k.push([g.restX(),g.restY()]);var l,m,n,o,p,q=b(j,.5),r=b(k,.5),s=[];for(a=0;2>a;a++){for(m=q[a],n=r[a],l=[],c=0;i>c;c++)g=h[c],0===a&&0===c||1===a&&c===i-1||(o=m[c],p=n[c],i/2>c==(0===a)&&g instanceof e?(g.x(o[0]),g.y(o[1]),g.restX(p[0]),g.restY(p[1])):1===a&&0===c?g=s[0].endPoint():(g=new d(o[0],o[1],g.type()),g.restX(p[0]),g.restY(p[1]))),l.push(g);s.push(new f(l))}return s},k.toString=function(a){a=a===!0;var b,c=[];a&&(b=this.startPoint(),c.push("M",b.toString())),c.push(this.type()===f.QUADRATIC?"Q":"C");for(var d=1;d<this._points.length;d++)b=this.point(d),c.push(b.toString());return c.join(" ")};var k=g.prototype;k.startPoint=function(){return this._pieces[0].startPoint()},k.endPoint=function(){return this._pieces[this._pieces.length-1].endPoint()},k.interpolate=function(a){if(.001>=a)throw new Error("Threshold is far too small and will result in either very poor performance or an infinite loop");for(var b=0;b<this._pieces.length;b++){var c=this._pieces[b];if(c.delta()>a){var d=c.interpolate();this._pieces[b]=d[0],this._pieces.splice(b+1,0,d[1]),b--}}},k.extrapolate=function(a){for(var b=this._pieces[0],c=[b],d=1;d<this._pieces.length;d++){var e=this._pieces[d];e.delta()<a?(e=f.extrapolate(b,e),c[c.length-1]=e):c.push(e),b=e}this._pieces=c},k.toString=function(a){a=a===!0;for(var b=[],c=0;c<this._pieces.length;c++){var d=this._pieces[c];b.push(d.toString(0===c&&a))}return b.join(" ")},h.fromElement=function(a){for(var b,c,f=new h,i=a.pathSegList,j=new e(0,0),k=0;k<i.numberOfItems;k++){var l=i.getItem(k),m=l.pathSegTypeAsLetter;switch(m){case"M":b=new e(l.x,l.y);break;case"Q":b=new e(l.x,l.y),c=new g(j,new e(l.x1,l.y1,d.CONTROL),b),f.addSegment(c);break;case"C":b=new e(l.x,l.y),c=new g(j,new e(l.x1,l.y1,d.CONTROL),new e(l.x2,l.y2,d.CONTROL),b),f.addSegment(c)}j=b}return f};var k=h.prototype;k.addSegment=function(a){if(!(a instanceof g))throw new Error("Must be a valid Segment instance");this._segments.push(a)},k.points=function(){for(var a={},b=[],c=0;c<this._segments.length;c++)for(var d=this._segments[c],e=0;e<d._pieces.length;e++)for(var f=d._pieces[e],g=0;g<f._points.length;g++){var h=f._points[g],i=h.hashCode();a.hasOwnProperty(i)||(a[i]=h,b.push(h))}return b},k.interpolate=function(a){for(var b=0;b<this._segments.length;b++){var c=this._segments[b];c.interpolate(a)}},k.extrapolate=function(a){for(var b=0;b<this._segments.length;b++){var c=this._segments[b];c.extrapolate(a)}},k.toString=function(){for(var a,b=[],c=0;c<this._segments.length;c++){var d=this._segments[c];b.push(d.toString(!a||a.endPoint()!==d.startPoint())),a=d}return b.join(" ")},i.STATIC_INTERPOLATION=1,i.DYNAMIC_INTERPOLATION=2,i.DYNAMIC_AUTOPOLATION=3,i.DEFAULT_INTERPOLATION_THRESHOLD=10,i.DEFAULT_EXTRAPOLATION_THRESHOLD=2.5;var k=i.prototype;return k.interpolate=function(){for(var a=0;a<this._paths.length;a++){var b=this._paths[a].element,c=this._paths[a].path;c.interpolate(this._interThreshold),b.setAttribute("d",c.toString())}},k.extrapolate=function(){for(var a=0;a<this._paths.length;a++){var b=this._paths[a].element,c=this._paths[a].path;c.extrapolate(this._extraThreshold),b.setAttribute("d",c.toString())}},k.withPoints=function(a){for(var b={},c=0;c<this._paths.length;c++){for(var d=this._paths[c].element,e=this._paths[c].path,f=0;f<e._segments.length;f++)for(var g=e._segments[f],h=0;h<g._pieces.length;h++)for(var j=g._pieces[h],k=0;k<j._points.length;k++){var l=j._points[k],m=l.hashCode();b.hasOwnProperty(m)||(b[m]=l,a.call(l,l.x(),l.y()))}switch(this._mode){case i.DYNAMIC_INTERPOLATION:e.interpolate(this._interThreshold);break;case i.DYNAMIC_AUTOPOLATION:e.extrapolate(this._extraThreshold),e.interpolate(this._interThreshold)}d.setAttribute("d",e.toString())}},j()});
//# sourceMappingURL=dvg.min.js.map